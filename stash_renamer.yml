name: Scene Renamer
description: Rename scene files based on metadata with customizable templates
version: 1.0.0
url: https://github.com/lucasnegrao/stash_renamer
settings:
  template:
    displayName: Filename Template
    type: STRING
    description: "Template for renaming files. Tokens: $studio, $date, $title, $performer, $height"
  femaleOnly:
    displayName: Female Performers Only
    type: BOOLEAN
    description: Include only female performers in $performer token
  skipGrouped:
    displayName: Skip Grouped Scenes
    type: BOOLEAN
    description: Skip scenes that are part of a group/movie
  moveToStudioFolder:
    displayName: Move to Studio Folder
    type: BOOLEAN
    description: Move scenes to a studio-named subfolder if studio exists
  pathLike:
    displayName: Path Filter (Include)
    type: STRING
    description: "Optional substring to match in file path (e.g., /mnt/media/)"
  excludePathLike:
    displayName: Path Filter (Exclude)
    type: STRING
    description: Optional substring to exclude matching file paths
  debugMode:
    displayName: Debug Mode
    type: BOOLEAN
    description: Enable debug output for troubleshooting
exec:
  - python3
  - "{pluginDir}/plugin_wrapper.py"
interface: raw
tasks:
  - name: Rename Scenes (Dry Run)
    description: Preview what files would be renamed without making changes
    defaultArgs:
      mode: dry_run
      dry_run: "true"
  - name: Rename Scenes  
    description: Rename scene files based on configured template
    defaultArgs:
      mode: rename
      dry_run: "false"
  - name: Rename Tagged Scenes
    description: Rename scenes with specific tags
    defaultArgs:
      mode: tag_rename
      dry_run: "false"
hooks:
  - name: Scene Renamer UI
    description: Interactive UI for configuring and running scene renaming
    triggeredBy:
      - Scene.Update.Post
