name: Scene Renamer
description: Rename scene files based on metadata with customizable templates
version: 1.0.0
url: https://github.com/lucasnegrao/stash_renamer
settings:
  template:
    displayName: Filename Template
    type: STRING
    description: "Template for renaming files. Tokens: $studio, $date, $title, $performer, $height"
    # defaultArgs: "$studio - $date - $title - $performer"
  femaleOnly:
    displayName: Female Performers Only
    type: BOOLEAN
    description: Include only female performers in $performer token
    # defaultArgs: false
  skipGrouped:
    displayName: Skip Grouped Scenes
    type: BOOLEAN
    description: Skip scenes that are part of a group/movie
    # defaultArgs: false
  moveToStudioFolder:
    displayName: Move to Studio Folder
    type: BOOLEAN
    description: Move scenes to a studio-named subfolder if studio exists
    # defaultArgs: false
  pathLike:
    displayName: Path Filter (Include)
    type: STRING
    description: "Optional substring to match in file path (e.g., /mnt/media/)"
    # defaultArgs: ""
  excludePathLike:
    displayName: Path Filter (Exclude)
    type: STRING
    description: Optional substring to exclude matching file paths
    # defaultArgs: ""
  debugMode:
    displayName: Debug Mode
    type: BOOLEAN
    description: Enable debug output for troubleshooting
    # defaultArgs: true
exec:
  - python
  - "{pluginDir}/stash_renamer.py"
  - "--no-dry-run"
interface: raw
tasks:
  - name: Rename Scenes (Dry Run)
    description: Preview what files would be renamed without making changes
    defaultArgs:
      mode: dry_run
  - name: Rename Scenes
    description: Rename scene files based on configured template
    defaultArgs:
      mode: rename
  - name: Rename Tagged Scenes
    description: Rename scenes with specific tags
    defaultArgs:
      mode: tag_rename
hooks:
  - name: Scene Renamer UI
    description: Interactive UI for configuring and running scene renaming
    triggeredBy:
      - Scene.Update.Post
